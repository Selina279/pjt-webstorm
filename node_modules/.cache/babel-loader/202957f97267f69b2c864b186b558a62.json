{"remainingRequest":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/babel-loader/lib/index.js!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/SchMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/SchMana.vue","mtime":1587910419796},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU3R1TWFuYSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVuaTogewogICAgICAgIG5hbWU6ICcnCiAgICAgIH0sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB1cGRhdGVVbmk6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICB9LAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIHVuaXZlcnNpdHk6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdFVuaXZlcnNpdHkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZU1hbnk6IGZ1bmN0aW9uIGRlbGV0ZU1hbnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzkvJrmibnph4/liKDpmaTjgJAnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAn44CR5p2h6K6w5b2V77yM5piv5ZCm57un57ut77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpZHMgPSAnPyc7CgogICAgICAgIF90aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlkcyArPSAnaWRzPScgKyBpdGVtLmlkICsgJyYnOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5kZWxldGVSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL3VuaS8iICsgaWRzKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICBfdGhpcy5pbml0VW5pdmVyc2l0eSgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICB9LAogICAgYWRkVW5pdmVyc2l0eTogZnVuY3Rpb24gYWRkVW5pdmVyc2l0eSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy51bmkubmFtZSkgewogICAgICAgIHRoaXMucG9zdFJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvdW5pLyIsIHRoaXMudW5pKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICBfdGhpczIuaW5pdFVuaXZlcnNpdHkoKTsKCiAgICAgICAgICAgIF90aGlzMi51bmkubmFtZSA9ICcnOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WtpuagoeWQjeensOS4jeiDveS4uuepuicpOwogICAgICB9CiAgICB9LAogICAgc2hvd0VkaXRWaWV3OiBmdW5jdGlvbiBzaG93RWRpdFZpZXcoaW5kZXgsIGRhdGEpIHsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVwZGF0ZVVuaSwgZGF0YSk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZG9VcGRhdGU6IGZ1bmN0aW9uIGRvVXBkYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMucHV0UmVxdWVzdCgiL3N5c3RlbS9iYXNpYy91bmkvIiwgdGhpcy51cGRhdGVVbmkpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgX3RoaXMzLmluaXRVbml2ZXJzaXR5KCk7CgogICAgICAgICAgX3RoaXMzLnVwZGF0ZVVuaS5uYW1lID0gJyc7CiAgICAgICAgICBfdGhpczMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoaW5kZXgsIGRhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgZGF0YS5uYW1lICsgJ+OAkeWtpuagoSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuZGVsZXRlUmVxdWVzdCgiL3N5c3RlbS9iYXNpYy91bmkvIiArIGRhdGEuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzNC5pbml0VW5pdmVyc2l0eSgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRVbml2ZXJzaXR5OiBmdW5jdGlvbiBpbml0VW5pdmVyc2l0eSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmdldFJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvdW5pLyIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgX3RoaXM1LnVuaXZlcnNpdHkgPSByZXNwOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SchMana.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input\n                    class=\"addUniverPut\"\n                    size=\"small\"\n                    placeholder=\"添加学校...\"\n                    @keydown.enter.native=\"addUniversity\"\n                    prefix-icon=\"el-icon-plus\"\n                    v-model=\"uni.name\">\n            </el-input>\n            <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"addUniversity\">添加</el-button>\n        </div>\n        <div class=\"UniverManaMain\">\n            <el-table\n                    :data=\"university\"\n                    border\n                    @selection-change=\"handleSelectionChange\"\n                    size=\"small\"\n                    stripe\n                    style=\"width: 60%\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"学校名称\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        label=\"创建时间\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        label=\"是否启用\">\n                    <template slot-scope=\"scope\">\n                        <el-tag size=\"small\" type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n                        <el-tag size=\"small\" type=\"danger\" v-else>未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"mini\"\n                                @click=\"showEditView(scope.$index, scope.row)\">编辑</el-button>\n                        <el-button\n                                size=\"mini\"\n                                type=\"danger\"\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-button @click=\"deleteMany\" type=\"danger\" size=\"small\" style=\"margin-top: 8px\" :disabled=\"multipleSelection.length==0\">批量删除</el-button>\n        </div>\n        <el-dialog\n                title=\"修改学校\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\">\n            <div>\n                <div>\n                    <el-tag>学校名称</el-tag>\n                    <el-input class=\"updateUniversityInput\" size=\"small\" v-model=\"updateUni.name\"></el-input>\n\n                </div>\n                <div>\n                    <el-tag>是否启用</el-tag>\n                    <el-switch\n                            style=\"margin-left: 15px\"\n                            v-model=\"updateUni.enabled\"\n                            active-text=\"启用\"\n                            inactive-text=\"禁用\">\n                    </el-switch>\n                </div>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n          </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"StuMana\",\n        data(){\n            return{\n                uni:{\n                    name:''\n                },\n                dialogVisible:false,\n                updateUni:{\n                    name:'',\n                    enabled:false\n                },\n                multipleSelection: [],\n                university: []\n            }\n        },\n        mounted() {\n            this.initUniversity();\n        },\n        methods:{\n            deleteMany(){\n                this.$confirm('此操作会批量删除【'+this.multipleSelection.length+'】条记录，是否继续？','提示',{\n                       confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids='?';\n                    this.multipleSelection.forEach(item=>{\n                        ids+='ids='+item.id+'&';\n                    })\n                    this.deleteRequest(\"/system/basic/uni/\"+ids).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                        }\n                    })\n                }).catch(() => {\n                           this.$message({\n                           type: 'info',\n                           message: '已取消删除'\n                    });\n                });\n\n            },\n            handleSelectionChange(val){\n              this.multipleSelection=val;\n              console.log(val);\n            },\n            addUniversity(){\n                if(this.uni.name){\n                    this.postRequest(\"/system/basic/uni/\",this.uni).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                            this.uni.name='';\n                        }\n                    })\n                }else{\n                    this.$message.error('学校名称不能为空');\n                }\n            },\n            showEditView(index,data){\n                Object.assign(this.updateUni,data);\n                this.dialogVisible=true;\n            },\n            doUpdate(){\n              this.putRequest(\"/system/basic/uni/\",this.updateUni).then(resp=>{\n                      if(resp){\n                          this.initUniversity();\n                          this.updateUni.name='';\n                          this.dialogVisible=false;\n                      }\n              })\n            },\n            handleDelete(index,data){\n                this.$confirm('此操作将永久删除【'+data.name+'】学校, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest(\"/system/basic/uni/\"+data.id).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            initUniversity(){\n                this.getRequest(\"/system/basic/uni/\").then(resp=>{\n                    if(resp){\n                        this.university=resp;\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .updateUniversityInput{\n        width: 200px;\n        margin-left: 10px;\n    }\n    .addUniverPut{\n        width: 300px;\n        margin-right: 8px\n    }\n    .UniverManaMain{\n        margin-top: 10px;\n    }\n</style>"],"sourceRoot":"src/components/sys/basic"}]}