{"remainingRequest":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/babel-loader/lib/index.js!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/utils/menu.js","dependencies":[{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/utils/menu.js","mtime":1587607864989},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCB7IGdldFJlcXVlc3QgfSBmcm9tICIuL2FwaSI7IC8v5Zug5Li66KaB5Y+R6YCB6K+35rGCCi8v5a6a5LmJ6I+c5Y2V5Yid5aeL5YyW55qE5pa55rOVCgpleHBvcnQgdmFyIGluaXRNZW51ID0gZnVuY3Rpb24gaW5pdE1lbnUocm91dGVyLCBzdG9yZSkgewogIGlmIChzdG9yZS5zdGF0ZS5yb3V0ZXMubGVuZ3RoID4gMCkgewogICAgcmV0dXJuOwogIH0KCiAgZ2V0UmVxdWVzdCgiL3N5c3RlbS9jb25maWcvbWVudSIudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgaWYgKGRhdGEpIHsKICAgICAgdmFyIGZtdFJvdXRlcyA9IGZvcm1hdFJvdXRlcyhkYXRhKTsKICAgICAgcm91dGVyLmFkZFJvdXRlcyhmbXRSb3V0ZXMpOwogICAgICBzdG9yZS5jb21taXQoJ2luaXRSb3V0ZXMnLCBmbXRSb3V0ZXMpOwogICAgfQogIH0pKTsKfTsKZXhwb3J0IHZhciBmb3JtYXRSb3V0ZXMgPSBmdW5jdGlvbiBmb3JtYXRSb3V0ZXMocm91dGVyKSB7CiAgdmFyIGZtUm91dGVzID0gW107CiAgcm91dGVyLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlcikgewogICAgdmFyIHBhdGggPSByb3V0ZXIucGF0aCwKICAgICAgICBfY29tcG9uZW50ID0gcm91dGVyLmNvbXBvbmVudCwKICAgICAgICBuYW1lID0gcm91dGVyLm5hbWUsCiAgICAgICAgbWV0YSA9IHJvdXRlci5tZXRhLAogICAgICAgIGljb25DbHMgPSByb3V0ZXIuaWNvbkNscywKICAgICAgICBjaGlsZHJlbiA9IHJvdXRlci5jaGlsZHJlbjsKCiAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICBjaGlsZHJlbiA9IGZvcm1hdFJvdXRlcyhjaGlsZHJlbik7CiAgICB9CgogICAgdmFyIGZtUm91dGVyID0gewogICAgICBwYXRoOiBwYXRoLAogICAgICBuYW1lOiBuYW1lLAogICAgICBpY29uQ2xzOiBpY29uQ2xzLAogICAgICBtZXRhOiBtZXRhLAogICAgICBjaGlsZHJlbjogY2hpbGRyZW4sCiAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KHJlc29sdmUpIHsKICAgICAgICBpZiAoX2NvbXBvbmVudC5zdGFydFdpdGgoIlVzZXIiKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL3VzZXIvJyArIF9jb21wb25lbnQgKyAnLnZ1ZSddLCByZXNvbHZlKTsKICAgICAgICB9IGVsc2UgaWYgKF9jb21wb25lbnQuc3RhcnRXaXRoKCJQZXIiKSkgewogICAgICAgICAgcmVxdWlyZShbJy4uL3ZpZXdzL3Blci8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydFdpdGgoIlB0IikpIHsKICAgICAgICAgIHJlcXVpcmUoWycuLi92aWV3cy9wdC8nICsgX2NvbXBvbmVudCArICcudnVlJ10sIHJlc29sdmUpOwogICAgICAgIH0gZWxzZSBpZiAoX2NvbXBvbmVudC5zdGFydFdpdGgoIlN5cyIpKSB7CiAgICAgICAgICByZXF1aXJlKFsnLi4vdmlld3Mvc3lzLycgKyBfY29tcG9uZW50ICsgJy52dWUnXSwgcmVzb2x2ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgZm1Sb3V0ZXMucHVzaChmbVJvdXRlcik7CiAgfSk7CiAgcmV0dXJuIGZtUm91dGVzOwp9Ow=="},{"version":3,"sources":["/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/utils/menu.js"],"names":["getRequest","initMenu","router","store","state","routes","length","then","data","fmtRoutes","formatRoutes","addRoutes","commit","fmRoutes","forEach","path","component","name","meta","iconCls","children","Array","fmRouter","resolve","startWith","require","push"],"mappings":";;;AAAA,SAAQA,UAAR,QAAyB,OAAzB,C,CACA;AAEA;;AACA,OAAO,IAAMC,QAAQ,GAAC,SAATA,QAAS,CAACC,MAAD,EAAQC,KAAR,EAAgB;AAClC,MAAGA,KAAK,CAACC,KAAN,CAAYC,MAAZ,CAAmBC,MAAnB,GAA0B,CAA7B,EAA+B;AAC3B;AACH;;AACDN,EAAAA,UAAU,CAAC,sBAAsBO,IAAtB,CAA2B,UAAAC,IAAI,EAAE;AACxC,QAAGA,IAAH,EAAQ;AACJ,UAAIC,SAAS,GAACC,YAAY,CAACF,IAAD,CAA1B;AACAN,MAAAA,MAAM,CAACS,SAAP,CAAiBF,SAAjB;AACAN,MAAAA,KAAK,CAACS,MAAN,CAAa,YAAb,EAA0BH,SAA1B;AACH;AACJ,GANU,CAAD,CAAV;AAOH,CAXM;AAYP,OAAO,IAAMC,YAAY,GAAC,SAAbA,YAAa,CAACR,MAAD,EAAU;AAChC,MAAIW,QAAQ,GAAC,EAAb;AACAX,EAAAA,MAAM,CAACY,OAAP,CAAe,UAAAZ,MAAM,EAAE;AAAA,QAEfa,IAFe,GAQjBb,MARiB,CAEfa,IAFe;AAAA,QAGfC,UAHe,GAQjBd,MARiB,CAGfc,SAHe;AAAA,QAIfC,IAJe,GAQjBf,MARiB,CAIfe,IAJe;AAAA,QAKfC,IALe,GAQjBhB,MARiB,CAKfgB,IALe;AAAA,QAMfC,OANe,GAQjBjB,MARiB,CAMfiB,OANe;AAAA,QAOfC,QAPe,GAQjBlB,MARiB,CAOfkB,QAPe;;AASnB,QAAGA,QAAQ,IAAIA,QAAQ,YAAYC,KAAnC,EAAyC;AACrCD,MAAAA,QAAQ,GAACV,YAAY,CAACU,QAAD,CAArB;AACH;;AACD,QAAIE,QAAQ,GAAC;AACTP,MAAAA,IAAI,EAACA,IADI;AAETE,MAAAA,IAAI,EAACA,IAFI;AAGTE,MAAAA,OAAO,EAACA,OAHC;AAITD,MAAAA,IAAI,EAACA,IAJI;AAKTE,MAAAA,QAAQ,EAACA,QALA;AAMTJ,MAAAA,SANS,qBAMCO,OAND,EAMS;AACd,YAAGP,UAAS,CAACQ,SAAV,CAAoB,MAApB,CAAH,EAA+B;AAC3BC,UAAAA,OAAO,CAAC,CAAC,mBAAiBT,UAAjB,GAA2B,MAA5B,CAAD,EAAqCO,OAArC,CAAP;AACH,SAFD,MAEM,IAAGP,UAAS,CAACQ,SAAV,CAAoB,KAApB,CAAH,EAA8B;AAChCC,UAAAA,OAAO,CAAC,CAAC,kBAAgBT,UAAhB,GAA0B,MAA3B,CAAD,EAAoCO,OAApC,CAAP;AACH,SAFK,MAEA,IAAGP,UAAS,CAACQ,SAAV,CAAoB,IAApB,CAAH,EAA6B;AAC/BC,UAAAA,OAAO,CAAC,CAAC,iBAAeT,UAAf,GAAyB,MAA1B,CAAD,EAAmCO,OAAnC,CAAP;AACH,SAFK,MAEA,IAAGP,UAAS,CAACQ,SAAV,CAAoB,KAApB,CAAH,EAA8B;AAChCC,UAAAA,OAAO,CAAC,CAAC,kBAAgBT,UAAhB,GAA0B,MAA3B,CAAD,EAAoCO,OAApC,CAAP;AACH;AACJ;AAhBQ,KAAb;AAkBAV,IAAAA,QAAQ,CAACa,IAAT,CAAcJ,QAAd;AACH,GA/BD;AAgCA,SAAOT,QAAP;AACH,CAnCM","sourcesContent":["import {getRequest} from \"./api\";\n//因为要发送请求\n\n//定义菜单初始化的方法\nexport const initMenu=(router,store)=>{\n    if(store.state.routes.length>0){\n        return;\n    }\n    getRequest(\"/system/config/menu\".then(data=>{\n        if(data){\n            let fmtRoutes=formatRoutes(data);\n            router.addRoutes(fmtRoutes);\n            store.commit('initRoutes',fmtRoutes);\n        }\n    }))\n}\nexport const formatRoutes=(router)=>{\n    let fmRoutes=[];\n    router.forEach(router=>{\n        let{\n            path,\n            component,\n            name,\n            meta,\n            iconCls,\n            children\n        }=router;\n        if(children && children instanceof Array){\n            children=formatRoutes(children);\n        }\n        let fmRouter={\n            path:path,\n            name:name,\n            iconCls:iconCls,\n            meta:meta,\n            children:children,\n            component(resolve){\n                if(component.startWith(\"User\")){\n                    require(['../views/user/'+component+'.vue'],resolve);\n                }else if(component.startWith(\"Per\")){\n                    require(['../views/per/'+component+'.vue'],resolve);\n                }else if(component.startWith(\"Pt\")){\n                    require(['../views/pt/'+component+'.vue'],resolve);\n                }else if(component.startWith(\"Sys\")){\n                    require(['../views/sys/'+component+'.vue'],resolve);\n                }\n            }\n        }\n        fmRoutes.push(fmRouter);\n    })\n    return fmRoutes;\n}"]}]}