{"remainingRequest":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/SchMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/SchMana.vue","mtime":1587910419796},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJTdHVNYW5hIiwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIHVuaTp7CiAgICAgICAgICAgICAgICBuYW1lOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGU6ZmFsc2UsCiAgICAgICAgICAgIHVwZGF0ZVVuaTp7CiAgICAgICAgICAgICAgICBuYW1lOicnLAogICAgICAgICAgICAgICAgZW5hYmxlZDpmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgICAgICAgIHVuaXZlcnNpdHk6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0VW5pdmVyc2l0eSgpOwogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGRlbGV0ZU1hbnkoKXsKICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5Lya5om56YeP5Yig6Zmk44CQJyt0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aCsn44CR5p2h6K6w5b2V77yM5piv5ZCm57un57ut77yfJywn5o+Q56S6Jyx7CiAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBpZHM9Jz8nOwogICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW09PnsKICAgICAgICAgICAgICAgICAgICBpZHMrPSdpZHM9JytpdGVtLmlkKycmJzsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvdW5pLyIraWRzKS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgICAgICBpZihyZXNwKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0VW5pdmVyc2l0eSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKXsKICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb249dmFsOwogICAgICAgICAgY29uc29sZS5sb2codmFsKTsKICAgICAgICB9LAogICAgICAgIGFkZFVuaXZlcnNpdHkoKXsKICAgICAgICAgICAgaWYodGhpcy51bmkubmFtZSl7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL3VuaS8iLHRoaXMudW5pKS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgICAgICBpZihyZXNwKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0VW5pdmVyc2l0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuaS5uYW1lPScnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5a2m5qCh5ZCN56ew5LiN6IO95Li656m6Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNob3dFZGl0VmlldyhpbmRleCxkYXRhKXsKICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVwZGF0ZVVuaSxkYXRhKTsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlPXRydWU7CiAgICAgICAgfSwKICAgICAgICBkb1VwZGF0ZSgpewogICAgICAgICAgdGhpcy5wdXRSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL3VuaS8iLHRoaXMudXBkYXRlVW5pKS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgICAgaWYocmVzcCl7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRVbml2ZXJzaXR5KCk7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVuaS5uYW1lPScnOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlPWZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlRGVsZXRlKGluZGV4LGRhdGEpewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnK2RhdGEubmFtZSsn44CR5a2m5qChLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL3VuaS8iK2RhdGEuaWQpLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgICAgIGlmKHJlc3ApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRVbml2ZXJzaXR5KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0sCiAgICAgICAgaW5pdFVuaXZlcnNpdHkoKXsKICAgICAgICAgICAgdGhpcy5nZXRSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL3VuaS8iKS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgIGlmKHJlc3ApewogICAgICAgICAgICAgICAgICAgIHRoaXMudW5pdmVyc2l0eT1yZXNwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["SchMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SchMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input\n                    class=\"addUniverPut\"\n                    size=\"small\"\n                    placeholder=\"添加学校...\"\n                    @keydown.enter.native=\"addUniversity\"\n                    prefix-icon=\"el-icon-plus\"\n                    v-model=\"uni.name\">\n            </el-input>\n            <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"addUniversity\">添加</el-button>\n        </div>\n        <div class=\"UniverManaMain\">\n            <el-table\n                    :data=\"university\"\n                    border\n                    @selection-change=\"handleSelectionChange\"\n                    size=\"small\"\n                    stripe\n                    style=\"width: 60%\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"学校名称\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        label=\"创建时间\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        label=\"是否启用\">\n                    <template slot-scope=\"scope\">\n                        <el-tag size=\"small\" type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n                        <el-tag size=\"small\" type=\"danger\" v-else>未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"mini\"\n                                @click=\"showEditView(scope.$index, scope.row)\">编辑</el-button>\n                        <el-button\n                                size=\"mini\"\n                                type=\"danger\"\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-button @click=\"deleteMany\" type=\"danger\" size=\"small\" style=\"margin-top: 8px\" :disabled=\"multipleSelection.length==0\">批量删除</el-button>\n        </div>\n        <el-dialog\n                title=\"修改学校\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\">\n            <div>\n                <div>\n                    <el-tag>学校名称</el-tag>\n                    <el-input class=\"updateUniversityInput\" size=\"small\" v-model=\"updateUni.name\"></el-input>\n\n                </div>\n                <div>\n                    <el-tag>是否启用</el-tag>\n                    <el-switch\n                            style=\"margin-left: 15px\"\n                            v-model=\"updateUni.enabled\"\n                            active-text=\"启用\"\n                            inactive-text=\"禁用\">\n                    </el-switch>\n                </div>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n          </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"StuMana\",\n        data(){\n            return{\n                uni:{\n                    name:''\n                },\n                dialogVisible:false,\n                updateUni:{\n                    name:'',\n                    enabled:false\n                },\n                multipleSelection: [],\n                university: []\n            }\n        },\n        mounted() {\n            this.initUniversity();\n        },\n        methods:{\n            deleteMany(){\n                this.$confirm('此操作会批量删除【'+this.multipleSelection.length+'】条记录，是否继续？','提示',{\n                       confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids='?';\n                    this.multipleSelection.forEach(item=>{\n                        ids+='ids='+item.id+'&';\n                    })\n                    this.deleteRequest(\"/system/basic/uni/\"+ids).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                        }\n                    })\n                }).catch(() => {\n                           this.$message({\n                           type: 'info',\n                           message: '已取消删除'\n                    });\n                });\n\n            },\n            handleSelectionChange(val){\n              this.multipleSelection=val;\n              console.log(val);\n            },\n            addUniversity(){\n                if(this.uni.name){\n                    this.postRequest(\"/system/basic/uni/\",this.uni).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                            this.uni.name='';\n                        }\n                    })\n                }else{\n                    this.$message.error('学校名称不能为空');\n                }\n            },\n            showEditView(index,data){\n                Object.assign(this.updateUni,data);\n                this.dialogVisible=true;\n            },\n            doUpdate(){\n              this.putRequest(\"/system/basic/uni/\",this.updateUni).then(resp=>{\n                      if(resp){\n                          this.initUniversity();\n                          this.updateUni.name='';\n                          this.dialogVisible=false;\n                      }\n              })\n            },\n            handleDelete(index,data){\n                this.$confirm('此操作将永久删除【'+data.name+'】学校, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest(\"/system/basic/uni/\"+data.id).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            initUniversity(){\n                this.getRequest(\"/system/basic/uni/\").then(resp=>{\n                    if(resp){\n                        this.university=resp;\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .updateUniversityInput{\n        width: 200px;\n        margin-left: 10px;\n    }\n    .addUniverPut{\n        width: 300px;\n        margin-right: 8px\n    }\n    .UniverManaMain{\n        margin-top: 10px;\n    }\n</style>"]}]}