{"remainingRequest":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/SchMana.vue?vue&type=style&index=0&id=a38a4048&scoped=true&lang=css&","dependencies":[{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/SchMana.vue","mtime":1587910419796},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi51cGRhdGVVbml2ZXJzaXR5SW5wdXR7CiAgICB3aWR0aDogMjAwcHg7CiAgICBtYXJnaW4tbGVmdDogMTBweDsKfQouYWRkVW5pdmVyUHV0ewogICAgd2lkdGg6IDMwMHB4OwogICAgbWFyZ2luLXJpZ2h0OiA4cHgKfQouVW5pdmVyTWFuYU1haW57CiAgICBtYXJnaW4tdG9wOiAxMHB4Owp9Cg=="},{"version":3,"sources":["SchMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SchMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input\n                    class=\"addUniverPut\"\n                    size=\"small\"\n                    placeholder=\"添加学校...\"\n                    @keydown.enter.native=\"addUniversity\"\n                    prefix-icon=\"el-icon-plus\"\n                    v-model=\"uni.name\">\n            </el-input>\n            <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"addUniversity\">添加</el-button>\n        </div>\n        <div class=\"UniverManaMain\">\n            <el-table\n                    :data=\"university\"\n                    border\n                    @selection-change=\"handleSelectionChange\"\n                    size=\"small\"\n                    stripe\n                    style=\"width: 60%\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"学校名称\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        label=\"创建时间\"\n                        width=\"120\">\n                </el-table-column>\n                <el-table-column\n                        label=\"是否启用\">\n                    <template slot-scope=\"scope\">\n                        <el-tag size=\"small\" type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n                        <el-tag size=\"small\" type=\"danger\" v-else>未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"mini\"\n                                @click=\"showEditView(scope.$index, scope.row)\">编辑</el-button>\n                        <el-button\n                                size=\"mini\"\n                                type=\"danger\"\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-button @click=\"deleteMany\" type=\"danger\" size=\"small\" style=\"margin-top: 8px\" :disabled=\"multipleSelection.length==0\">批量删除</el-button>\n        </div>\n        <el-dialog\n                title=\"修改学校\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\">\n            <div>\n                <div>\n                    <el-tag>学校名称</el-tag>\n                    <el-input class=\"updateUniversityInput\" size=\"small\" v-model=\"updateUni.name\"></el-input>\n\n                </div>\n                <div>\n                    <el-tag>是否启用</el-tag>\n                    <el-switch\n                            style=\"margin-left: 15px\"\n                            v-model=\"updateUni.enabled\"\n                            active-text=\"启用\"\n                            inactive-text=\"禁用\">\n                    </el-switch>\n                </div>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n                <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n          </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"StuMana\",\n        data(){\n            return{\n                uni:{\n                    name:''\n                },\n                dialogVisible:false,\n                updateUni:{\n                    name:'',\n                    enabled:false\n                },\n                multipleSelection: [],\n                university: []\n            }\n        },\n        mounted() {\n            this.initUniversity();\n        },\n        methods:{\n            deleteMany(){\n                this.$confirm('此操作会批量删除【'+this.multipleSelection.length+'】条记录，是否继续？','提示',{\n                       confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids='?';\n                    this.multipleSelection.forEach(item=>{\n                        ids+='ids='+item.id+'&';\n                    })\n                    this.deleteRequest(\"/system/basic/uni/\"+ids).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                        }\n                    })\n                }).catch(() => {\n                           this.$message({\n                           type: 'info',\n                           message: '已取消删除'\n                    });\n                });\n\n            },\n            handleSelectionChange(val){\n              this.multipleSelection=val;\n              console.log(val);\n            },\n            addUniversity(){\n                if(this.uni.name){\n                    this.postRequest(\"/system/basic/uni/\",this.uni).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                            this.uni.name='';\n                        }\n                    })\n                }else{\n                    this.$message.error('学校名称不能为空');\n                }\n            },\n            showEditView(index,data){\n                Object.assign(this.updateUni,data);\n                this.dialogVisible=true;\n            },\n            doUpdate(){\n              this.putRequest(\"/system/basic/uni/\",this.updateUni).then(resp=>{\n                      if(resp){\n                          this.initUniversity();\n                          this.updateUni.name='';\n                          this.dialogVisible=false;\n                      }\n              })\n            },\n            handleDelete(index,data){\n                this.$confirm('此操作将永久删除【'+data.name+'】学校, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest(\"/system/basic/uni/\"+data.id).then(resp=>{\n                        if(resp){\n                            this.initUniversity();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n\n            },\n            initUniversity(){\n                this.getRequest(\"/system/basic/uni/\").then(resp=>{\n                    if(resp){\n                        this.university=resp;\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .updateUniversityInput{\n        width: 200px;\n        margin-left: 10px;\n    }\n    .addUniverPut{\n        width: 300px;\n        margin-right: 8px\n    }\n    .UniverManaMain{\n        margin-top: 10px;\n    }\n</style>"]}]}