{"remainingRequest":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/BusMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/src/components/sys/basic/BusMana.vue","mtime":1587909205281},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selina/Documents/Vueworkspace/vuewebstrom/yourparttime/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJCdXNNYW5hIiwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTpmYWxzZSwKICAgICAgICAgICAgdXBkYXRlQnVzOnsKICAgICAgICAgICAgICBuYW1lOicnLAogICAgICAgICAgICAgICAgdHlwZTonJywKICAgICAgICAgICAgICAgIGxvY2FsOicnLAogICAgICAgICAgICAgICAgZW5hYmxlZDpmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBibTp7CiAgICAgICAgICAgICAgICBuYW1lOicnLAogICAgICAgICAgICAgICAgdHlwZTonJywKICAgICAgICAgICAgICAgIGxvY2FsOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJtczpbXSwKICAgICAgICAgICAgdHlwZXM6WwogICAgICAgICAgICAgICAgJ+W3peS4muS8geS4micsCiAgICAgICAgICAgICAgICAn6YeR6J6N5LyB5LiaJywKICAgICAgICAgICAgICAgICflhpzkuJrkvIHkuJonLAogICAgICAgICAgICAgICAgJ+S8kemXsuWoseS5kOS8geS4micsCiAgICAgICAgICAgICAgICAn6aSQ6aWu5LyB5LiaJywKICAgICAgICAgICAgICAgICfml4XmuLjkvY/lrr/kvIHkuJonLAogICAgICAgICAgICAgICAgJ+aVmeiCsuWfueiureS8geS4micsCiAgICAgICAgICAgICAgICAn5Lqk6YCa6L+Q6L6T5LyB5LiaJwogICAgICAgICAgICBdCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0Qm1zKCk7CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgZGVsZXRlTWFueSgpewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnK3RoaXMubXVsdGlwbGVTZWxlY3Rpb24ubGVuZ3RoKyfjgJHmnaHorrDlvZUsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgaWRzPSc/JzsKICAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goaXRlbT0+ewogICAgICAgICAgICAgICAgICAgICBpZHMrPSdpZHM9JytpdGVtLmlkKycmJzsKICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2J1cy8iK2lkcykudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJtcygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwogICAgICAgIH0sCiAgICAgICAgZG9VcGRhdGUoKXsKICAgICAgICAgICAgdGhpcy5wdXRSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2J1cy8iLHRoaXMudXBkYXRlQnVzKS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgICAgIGlmKHJlc3ApewogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJtcygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZT1mYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHNob3dFZGl0VmlldyhkYXRhKXsKICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnVwZGF0ZUJ1cyxkYXRhKTsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlPXRydWU7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVIYW5kbGVyKGRhdGEpewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnK2RhdGEubmFtZSsn44CRLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2J1cy8iK2RhdGEuaWQpLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgICAgIGlmKHJlc3ApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRCbXMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFkZEJ1c2luZXNzKCl7CiAgICAgICAgICAgIGlmKHRoaXMuYm0ubmFtZSAmJiB0aGlzLmJtLnR5cGUgJiYgdGhpcy5ibS5sb2NhbCl7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2J1cy8iLHRoaXMuYm0pLnRoZW4ocmVzcD0+ewogICAgICAgICAgICAgICAgICAgIGlmKHJlc3ApewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRCbXMoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqDlrZfmrrXkuI3lj6/ku6XkuLrnqbrvvIEiKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpbml0Qm1zKCl7CiAgICAgICAgICAgIHRoaXMuZ2V0UmVxdWVzdCgiL3N5c3RlbS9iYXNpYy9idXMvIikudGhlbihyZXNwPT57CiAgICAgICAgICAgICAgICBpZihyZXNwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmJtcz1yZXNwOwogICAgICAgICAgICAgICAgICAgIHRoaXMuYm09ewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOicnLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOicnLAogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbDonJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["BusMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BusMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input size=\"small\" v-model=\"bm.name\" style=\"width: 200px;\" prefix-icon=\"el-icon-plus\" placeholder=\"添加商家...\"></el-input>\n            <el-select v-model=\"bm.type\" placeholder=\"商家类型\" size=\"small\" style=\"margin-left: 5px;margin-right: 5px\">\n                <el-option\n                        v-for=\"item in types\"\n                        :key=\"item\"\n                        :label=\"item\"\n                        :value=\"item\">\n                </el-option>\n            </el-select>\n            <el-input size=\"small\" v-model=\"bm.local\" style=\"width: 200px;\" prefix-icon=\"el-icon-plus\" placeholder=\"填写地址...\"></el-input>\n            <el-button icon=\"el-icon-plus\" type=\"primary\" size=\"small\" style=\"margin-left: 5px\" @click=\"addBusiness\">添加</el-button>\n        </div>\n        <div style=\"margin-top: 10px\">\n            <el-table\n                    :data=\"bms\"\n                    border\n                    size=\"small\"\n                    style=\"width: 90%\"\n                    @selection-change=\"handleSelectionChange\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"商家名称\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"type\"\n                        label=\"商家类型\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"local\"\n                        label=\"商家地址\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        label=\"创建时间\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"enabled\"\n                        label=\"是否启用\">\n                    <template slot-scope=\"scope\">\n                        <el-tag type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n                        <el-tag type=\"danger\" v-else>未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button size=\"small\" @click=\"showEditView(scope.row)\">编辑</el-button>\n                        <el-button size=\"small\" type=\"danger\" @click=\"deleteHandler(scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-button type=\"danger\" size=\"small\" style=\"margin-top: 10px\" :disabled=\"multipleSelection.length==0\" @click=\"deleteMany\">批量删除</el-button>\n            <el-dialog\n                    title=\"编辑商家\"\n                    :visible.sync=\"dialogVisible\"\n                    width=\"30%\">\n                <div>\n                    <table>\n                        <tr>\n                            <td><el-tag>商家名称</el-tag></td>\n                            <td><el-input style=\"margin-left:10px;width: 200px\" size=\"small\" v-model=\"updateBus.name\"></el-input></td>\n                        </tr>\n                        <tr>\n                            <td><el-tag style=\"margin-top: 10px\">商家类型</el-tag></td>\n                            <td>\n                                <el-select v-model=\"updateBus.type\" placeholder=\"商家类型\" size=\"small\" style=\"margin-left:10px;width:200px;margin-top:10px\">\n                                    <el-option\n                                            v-for=\"item in types\"\n                                            :key=\"item\"\n                                            :label=\"item\"\n                                            :value=\"item\">\n                                    </el-option>\n                                </el-select>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td><el-tag style=\"margin-top: 10px\">商家地址</el-tag></td>\n                            <td><el-input style=\"margin-left:10px;margin-top:10px; width: 200px;\" size=\"small\" v-model=\"updateBus.local\"></el-input></td>\n                        </tr>\n                        <tr>\n                            <td><el-tag style=\"margin-top: 10px\">是否启用</el-tag></td>\n                            <td>\n                               <el-switch style=\"margin-left:20px;margin-top:10px;\"\n                                v-model=\"updateBus.enabled\"\n                                active-text=\"启用\"\n                                inactive-text=\"禁用\">\n                                </el-switch>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                <span slot=\"footer\" class=\"dialog-footer\">\n                    <el-button @click=\"dialogVisible = false\" size=\"small\">取 消</el-button>\n                    <el-button type=\"primary\" @click=\"doUpdate\" size=\"small\">确 定</el-button>\n                </span>\n            </el-dialog>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"BusMana\",\n        data(){\n            return{\n                multipleSelection: [],\n                dialogVisible:false,\n                updateBus:{\n                  name:'',\n                    type:'',\n                    local:'',\n                    enabled:false\n                },\n                bm:{\n                    name:'',\n                    type:'',\n                    local:''\n                },\n                bms:[],\n                types:[\n                    '工业企业',\n                    '金融企业',\n                    '农业企业',\n                    '休闲娱乐企业',\n                    '餐饮企业',\n                    '旅游住宿企业',\n                    '教育培训企业',\n                    '交通运输企业'\n                ]\n            }\n        },\n        mounted() {\n            this.initBms();\n        },\n        methods:{\n            deleteMany(){\n                this.$confirm('此操作将永久删除【'+this.multipleSelection.length+'】条记录, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids='?';\n                     this.multipleSelection.forEach(item=>{\n                         ids+='ids='+item.id+'&';\n                     })\n                    this.deleteRequest(\"/system/basic/bus/\"+ids).then(resp=>{\n                        if(resp){\n                            this.initBms();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n            },\n            doUpdate(){\n                this.putRequest(\"/system/basic/bus/\",this.updateBus).then(resp=>{\n                    if(resp){\n                        this.initBms();\n                        this.dialogVisible=false;\n                    }\n                })\n            },\n            showEditView(data){\n                Object.assign(this.updateBus,data);\n                this.dialogVisible=true;\n            },\n            deleteHandler(data){\n                this.$confirm('此操作将永久删除【'+data.name+'】, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest(\"/system/basic/bus/\"+data.id).then(resp=>{\n                        if(resp){\n                            this.initBms();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            addBusiness(){\n                if(this.bm.name && this.bm.type && this.bm.local){\n                    this.postRequest(\"/system/basic/bus/\",this.bm).then(resp=>{\n                        if(resp){\n                            this.initBms();\n                        }\n                    });\n                }else{\n                    this.$message.error(\"添加字段不可以为空！\")\n                }\n            },\n            initBms(){\n                this.getRequest(\"/system/basic/bus/\").then(resp=>{\n                    if(resp){\n                        this.bms=resp;\n                        this.bm={\n                            name:'',\n                            type:'',\n                            local:''\n                        }\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}